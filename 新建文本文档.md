![image-20250625121142749](https://cdn.jsdelivr.net/gh/Gongzihang6/Pcitures@main/Medias/image-20250625121142749.png)

在 MkDocs 中处理图片显示问题需要综合配置路径、渲染扩展和主题适配。以下是针对图片无法正常显示的完整解决方案：

---

### **一、核心问题排查**
#### 1. **路径配置错误（90%问题的根源）**
- **正确存放位置**：
  ```bash
  docs/
  ├── assets/
  │   └── images/  # 推荐统一存放目录
  │       ├── pic1.png
  │       └── subdir/logo.svg
  ```
- **Markdown 引用方式**：
  ```markdown
  ![](/assets/images/pic1.png)           # 绝对路径（推荐）
  ![Alt文本](assets/images/subdir/logo.svg) # 相对路径（需注意基准目录）
  ```

#### 2. **Material 主题的特殊处理**
在 `mkdocs.yml` 中启用资源优化：
```yaml
plugins:
  - mkdocs-material:
      assets:
        favicon: assets/images/favicon.ico
        logo: assets/images/logo.png
markdown_extensions:
  - attr_list  # 支持图片属性标记
  - pymdownx.emoji:
      options:
        custom_icons:
          - assets/images/icons/  # 自定义图标目录
```

---

### **二、常见问题解决方案**
#### ▶ **图片不显示/404 错误**
| 现象                     | 修复方案                                                     |
| ------------------------ | ------------------------------------------------------------ |
| 开发环境显示但部署后消失 | 使用 `![]({% raw %}{{ base_url }}{% endraw %}/assets/pic.png)` |
| 本地图片路径含中文/空格  | 重命名文件为英文并 URL 编码路径                                |
| SVG 文件显示为空白        | 添加 `markdown_extensions: - pymdownx.snippets`              |

#### ▶ *样式控制与优化**
```markdown
![图片描述](image.png){: .shadow .rounded width="800" }
<!-- 通过attr_list扩展支持CSS类 -->
```
需在 `extra_css` 中添加样式：
```css
.shadow {
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}
.rounded {
  border-radius: 8px;
}
```

---

### **三、高级技巧**
#### 1. **响应式图片处理**
```html
<picture>
  <source srcset="/assets/images/hero.webp" type="image/webp">
  <img src="/assets/images/hero.jpg" alt="Fallback">
</picture>
```

#### 2. **图床集成（替代本地存储）**
```markdown
![云存储图片](https://example.com/pic.jpg){: loading="lazy" }
```
建议配合 `mkdocs-webpicture-plugin` 自动压缩转换：
```yaml
plugins:
  - webpicture:
      compress: true
      output: "docs/assets/compressed"
```

#### 3. **Lightbox 画廊效果**
安装 `lightbox2` 插件：
```yaml
extra_javascript:
  - https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/js/lightbox.min.js
extra_css:
  - https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/css/lightbox.min.css
```
使用方式：
```markdown
[![缩略图](thumb.jpg)](fullsize.jpg){: data-lightbox="gallery" }
```

---

### **四、调试流程**
1. 运行 `mkdocs serve --verbose` 查看资源加载日志
2. 浏览器开发者工具检查：
   - Network 面板确认图片请求状态
   - Elements 面板审查最终生成的 HTML 代码
3. 强制刷新缓存：`Ctrl+Shift+R` (Windows) / `Cmd+Shift+R` (Mac)

---

### **五、最佳实践建议**
1. **目录规范**  
   ```bash
   docs/
   ├── assets/
   │   ├── images/      # 通用图片
   │   ├── screenshots/ # 教程截图
   │   └── diagrams/    # 流程图/架构图
   ```
2. **命名规则**  
   - 英文小写+连字符：`user-guide-step1.png`
   - 版本控制：`logo-v2-dark.png`

3. **自动化工具**  
   使用 `imagemin-cli` 自动压缩：
   ```bash
   npm install -g imagemin-cli
   imagemin docs/assets/images/* --out-dir=docs/assets/optimized
   ```

通过以上配置，可系统解决图片显示异常、路径错误、样式失控等问题。若问题仍存，建议提供：  
- 项目结构树 (`tree -L 3`)  
- 图片调用的完整 Markdown 代码  
- 浏览器控制台报错截图