
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="记录、分享">
      
      
        <meta name="author" content="Ir1d, partychicken, ouuan, Marcythm, TianyiQ">
      
      
        <link rel="canonical" href="https://gongzihang6.github.io/blog/Computer%20Science/Algorithm/docs/misc/rand-technique/">
      
      
      
      
      <link rel="icon" href="https://s2.loli.net/2025/02/12/aE5ovtzAlNTd9Uh.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Rand technique - Blog of GZH</title>
      
    
    
      <link rel="stylesheet" href="../../../../../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../../../../../stylesheets/extra2.css">
    
      <link rel="stylesheet" href="../../../../../../stylesheets/简历.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Wcowin/Wcowin.github.io@main/docs/stylesheets/link.css">
    
      <link rel="stylesheet" href="../../../../../../stylesheets/customize.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600&display=swap">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Wcowin/Wcowin.github.io@main/docs/stylesheets/ziti.css">
    
    <script>__md_scope=new URL("../../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-40HC6RYSR1"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-40HC6RYSR1",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-40HC6RYSR1",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../../../../.." title="Blog of GZH" class="md-header__button md-logo" aria-label="Blog of GZH" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89 89">
  <path d="M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z" />
  <path d="M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z" style="fill-opacity: 0.5" />
  <path d="M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z" />
  <path d="M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z" style="fill-opacity: 0.25" />
</svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Blog of GZH
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Rand technique
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="关闭自动模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="关闭自动模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="切换至夜间模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换至夜间模式" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="切换至日间模式"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="切换至日间模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="选择当前语言">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 128c0-35.3 28.7-64 64-64h512c35.3 0 64 28.7 64 64v256c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64zm320 0v256h256V128zm-141.7 47.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1.1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1h73.6l8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4zM160 233.2l19 42.8h-38zM448 164c11 0 20 9 20 20v4h60c11 0 20 9 20 20s-9 20-20 20h-2l-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4.9.6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9L467 333.8c-4.5-2.7-8.8-5.5-13.1-8.5-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8L410 286.1c-7.8-7.8-7.8-20.5 0-28.3s20.5-7.8 28.3 0l14.6 14.6.5.5c12.4-13.1 22.5-28.3 29.8-45l-35.2.1h-72c-11 0-20-9-20-20s9-20 20-20h52v-4c0-11 9-20 20-20"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="/" hreflang="zh" class="md-select__link">
              简体中文
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/Mkdocs-Wcowin/en/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/Mkdocs-Wcowin/ZH-TW/" hreflang="zh-TW" class="md-select__link">
              China(TW)
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Gongzihang6" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    Gongzihang6
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../.." class="md-tabs__link">
        
  
  
    
  
  主页

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../java%E5%9F%BA%E7%A1%80/" class="md-tabs__link">
          
  
  
    
  
  Computer Science

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../MachineLearning/K%E8%BF%91%E9%82%BB%E5%AD%A6%E4%B9%A0%E4%B8%8E%E9%99%8D%E7%BB%B4/" class="md-tabs__link">
          
  
  
    
  
  MachineLearning

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../%E6%AF%8F%E6%97%A5%E8%AF%97%E8%AF%8D/%E8%99%9E%E7%BE%8E%E4%BA%BA%C2%B7%E7%8E%89%E9%98%91%E5%B9%B2%E5%A4%96%E6%B8%85%E6%B1%9F%E6%B5%A6/" class="md-tabs__link">
          
  
  
    
  
  每日诗词

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../%E9%95%BF%E6%9C%9F%E4%B8%BB%E4%B9%89/fitness/" class="md-tabs__link">
          
  
  
    
  
  长期主义

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../../about/geren/" class="md-tabs__link">
          
  
  
    
  
  关于

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../../.." title="Blog of GZH" class="md-nav__button md-logo" aria-label="Blog of GZH" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89 89">
  <path d="M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z" />
  <path d="M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z" style="fill-opacity: 0.5" />
  <path d="M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z" />
  <path d="M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z" style="fill-opacity: 0.25" />
</svg>

    </a>
    Blog of GZH
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Gongzihang6" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    Gongzihang6
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    主页
    
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Computer Science
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Computer Science
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Java
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Java
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../java%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Java面向对象基础
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B8%B8%E7%94%A8API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Java集合框架与常用API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../java%E6%8F%90%E9%AB%98/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Java高级技术
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Algorithm
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Algorithm
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/%E5%B9%B6%E6%9F%A5%E9%9B%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    并查集
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    LeetCode热题100
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            LeetCode热题100
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode%E7%83%AD%E9%A2%98100/%E5%AD%97%E6%AF%8D%E5%BC%82%E4%BD%8D%E8%AF%8D%E5%88%86%E7%BB%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    字母异位词分组
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    LeetCode
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            LeetCode
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E4%BA%A4%E6%98%93%E9%80%86%E5%BA%8F%E5%AF%B9%E7%9A%84%E6%80%BB%E6%95%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    交易逆序对的总数
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E5%8D%95%E8%AF%8D%E6%8E%A5%E9%BE%99/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    单词接龙
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E5%B2%9B%E5%B1%BF%E6%95%B0%E9%87%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    岛屿数量
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E5%88%86%E8%80%83%E5%9C%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    分考场
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E6%8B%89%E9%A9%AC%E8%BD%A6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    拉马车
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E5%88%86%E5%B7%A7%E5%85%8B%E5%8A%9B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    分巧克力
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/k%E5%80%8D%E5%8C%BA%E9%97%B4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    K倍区间
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E7%BC%96%E8%BE%91%E8%B7%9D%E7%A6%BB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    编辑距离
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E6%8E%A5%E9%9B%A8%E6%B0%B4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    接雨水
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E7%BB%84%E5%90%88%E6%80%BB%E5%92%8C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    组合总和
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E5%85%A8%E6%8E%92%E5%88%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    全排列
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E4%B9%98%E7%A7%AF%E6%9C%80%E5%A4%A7%E5%AD%90%E6%95%B0%E7%BB%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    乘积最大子数组
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E6%9C%80%E9%95%BF%E5%9B%9E%E6%96%87%E5%AD%90%E4%B8%B2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5. 最长回文子串
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E5%89%8DK%E4%B8%AA%E9%AB%98%E9%A2%91%E5%85%83%E7%B4%A0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    前K个高频元素
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E6%9C%80%E5%B0%8F%E6%A0%88/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    最小栈
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/Pow%28x%2Cn%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pow(x,n)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E7%BD%91%E7%BB%9C%E5%BB%B6%E8%BF%9F%E6%97%B6%E9%97%B4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    网络延迟时间
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E8%AE%A1%E7%AE%97%E8%B4%A8%E6%95%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    计算质数
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E5%AF%B9%E8%A7%92%E7%BA%BF%E4%B8%8A%E7%9A%84%E8%B4%A8%E6%95%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    对角线上的质数
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E9%9B%B6%E9%92%B1%E5%85%91%E6%8D%A2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    零钱兑换
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/01%E7%9F%A9%E9%98%B5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01矩阵
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    二分查找
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/%E6%8B%AC%E5%8F%B7%E5%8C%B9%E9%85%8D/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    括号匹配
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/300%E6%9C%80%E9%95%BF%E9%80%92%E5%A2%9E%E5%AD%90%E5%BA%8F%E5%88%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    300最长递增子序列
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/115%E4%B8%8D%E5%90%8C%E7%9A%84%E5%AD%90%E5%BA%8F%E5%88%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    115不同的子序列
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/712%E4%B8%A4%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%9C%80%E5%B0%8FASCII%E5%88%A0%E9%99%A4%E5%92%8C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    712两个字符串的最小ASCII删除和
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/516%E6%9C%80%E9%95%BF%E5%9B%9E%E6%96%87%E5%AD%90%E5%BA%8F%E5%88%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    516最长回文子序列
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/139%E5%8D%95%E8%AF%8D%E6%8B%86%E5%88%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    139单词拆分
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/221%E6%9C%80%E5%A4%A7%E6%AD%A3%E6%96%B9%E5%BD%A2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    221最大正方形
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/2845%E7%BB%9F%E8%AE%A1%E8%B6%A3%E5%91%B3%E5%AD%90%E6%95%B0%E7%BB%84%E7%9A%84%E6%95%B0%E7%9B%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2845统计趣味子数组的数目
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/2799%E7%BB%9F%E8%AE%A1%E5%AE%8C%E5%85%A8%E5%AD%90%E6%95%B0%E7%BB%84%E7%9A%84%E6%95%B0%E7%9B%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2799统计完全子数组的数目
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/1399%E7%BB%9F%E8%AE%A1%E6%9C%80%E5%A4%A7%E7%BB%84%E7%9A%84%E6%95%B0%E7%9B%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1399统计最大组的数目
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/2338%E7%BB%9F%E8%AE%A1%E7%90%86%E6%83%B3%E6%95%B0%E7%BB%84%E7%9A%84%E6%95%B0%E7%9B%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2338统计理想数组的数目
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/2179%E7%BB%9F%E8%AE%A1%E6%95%B0%E7%BB%84%E4%B8%AD%E5%A5%BD%E4%B8%89%E5%85%83%E7%BB%84%E6%95%B0%E7%9B%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2179统计数组中好三元组数目
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/2537%E7%BB%9F%E8%AE%A1%E5%A5%BD%E5%AD%90%E6%95%B0%E7%BB%84%E7%9A%84%E6%95%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2537统计好子数组的数
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/2140%E8%A7%A3%E5%86%B3%E6%99%BA%E5%8A%9B%E9%97%AE%E9%A2%98/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2140解决智力问题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../LeetCode/2278%E5%AD%97%E6%AF%8D%E5%9C%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84%E7%99%BE%E5%88%86%E6%AF%94/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2278字母在字符串中的百分比
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MachineLearning
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            MachineLearning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../MachineLearning/K%E8%BF%91%E9%82%BB%E5%AD%A6%E4%B9%A0%E4%B8%8E%E9%99%8D%E7%BB%B4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    K近邻学习与降维
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../MachineLearning/%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BC%B0%E4%B8%8E%E5%A4%9A%E5%88%86%E7%B1%BB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    模型评估与多分类
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../MachineLearning/%E5%85%AC%E5%BC%8F%E6%B5%8B%E8%AF%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    公式测试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../MachineLearning/%E7%BB%8F%E5%85%B8%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    经典卷积神经网络
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../MachineLearning/%E7%90%86%E8%A7%A3YOLO%E7%BD%91%E7%BB%9C%E7%BB%93%E6%9E%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    理解YOLO网络结构
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    每日诗词
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            每日诗词
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../%E6%AF%8F%E6%97%A5%E8%AF%97%E8%AF%8D/%E8%99%9E%E7%BE%8E%E4%BA%BA%C2%B7%E7%8E%89%E9%98%91%E5%B9%B2%E5%A4%96%E6%B8%85%E6%B1%9F%E6%B5%A6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    虞美人·玉阑干外清江浦
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../%E6%AF%8F%E6%97%A5%E8%AF%97%E8%AF%8D/%E8%8F%A9%E8%90%A8%E8%9B%AE%C2%B7%E5%9B%9E%E6%96%87%E5%A4%8F%E9%97%BA%E6%80%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    菩萨蛮·回文夏闺怨
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../%E6%AF%8F%E6%97%A5%E8%AF%97%E8%AF%8D/%E6%B8%85%E5%B9%B3%E4%B9%90%C2%B7%E5%85%AD%E7%9B%98%E5%B1%B1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    清平乐·六盘山
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../%E6%AF%8F%E6%97%A5%E8%AF%97%E8%AF%8D/%E6%B4%9E%E4%BB%99%E6%AD%8C%C2%B7%E5%92%8F%E6%9F%B3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    洞仙歌·咏柳
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../%E6%AF%8F%E6%97%A5%E8%AF%97%E8%AF%8D/%E7%A7%8B%E5%85%B4%E5%85%AB%E9%A6%96%C2%B7%E5%85%B6%E4%B8%80/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    秋兴八首·其一
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../%E6%AF%8F%E6%97%A5%E8%AF%97%E8%AF%8D/%E4%B8%8E%E5%8F%B2%E9%83%8E%E4%B8%AD%E9%92%A6%E5%90%AC%E9%BB%84%E9%B9%A4%E6%A5%BC%E4%B8%8A%E5%90%B9%E7%AC%9B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    与史郎中钦听黄鹤楼上吹笛
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../%E6%AF%8F%E6%97%A5%E8%AF%97%E8%AF%8D/%E5%A4%8F%E6%97%A5%E5%8D%97%E4%BA%AD%E6%80%80%E8%BE%9B%E5%A4%A7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    夏日南亭怀辛大
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../%E6%AF%8F%E6%97%A5%E8%AF%97%E8%AF%8D/%E8%A1%8C%E9%A6%99%E5%AD%90%C2%B7%E7%A7%8B%E4%B8%8E/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    行香子·秋与
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../%E6%AF%8F%E6%97%A5%E8%AF%97%E8%AF%8D/%E8%87%AA%E9%A2%98%E9%87%91%E5%B1%B1%E7%94%BB%E5%83%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    自题金山画像
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    长期主义
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            长期主义
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../%E9%95%BF%E6%9C%9F%E4%B8%BB%E4%B9%89/fitness/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fitness
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    关于
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            关于
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../about/geren/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    作者个人简介
    
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../about/%E7%AE%80%E5%8E%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    个人简历
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../about/zcw/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    支持作者
    
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../about/test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    功能测试
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      概述
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      用随机集合覆盖目标元素
    </span>
  </a>
  
    <nav class="md-nav" aria-label="用随机集合覆盖目标元素">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      例：三部图的判定
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codechef-seledge" class="md-nav__link">
    <span class="md-ellipsis">
      例：CodeChef SELEDGE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      用随机元素命中目标集合
    </span>
  </a>
  
    <nav class="md-nav" aria-label="用随机元素命中目标集合">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gym-101550i" class="md-nav__link">
    <span class="md-ellipsis">
      例：Gym 101550I
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cses-1685-new-flight-routes" class="md-nav__link">
    <span class="md-ellipsis">
      例：CSES 1685 New Flight Routes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      用随机化获得随机数据的性质
    </span>
  </a>
  
    <nav class="md-nav" aria-label="用随机化获得随机数据的性质">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      例：随机增量法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#topcoder-magicmolecule" class="md-nav__link">
    <span class="md-ellipsis">
      例：TopCoder MagicMolecule 随机化解法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      随机化用于哈希
    </span>
  </a>
  
    <nav class="md-nav" aria-label="随机化用于哈希">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uoj-207" class="md-nav__link">
    <span class="md-ellipsis">
      例：UOJ #207 共价大爷游长沙
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codechef-panic" class="md-nav__link">
    <span class="md-ellipsis">
      例：CodeChef PANIC 及其错误率分析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uoj-552" class="md-nav__link">
    <span class="md-ellipsis">
      例：UOJ #552 同构判定鸭 及其错误率分析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      例：（*）子矩阵不同元素个数
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      随机化在算法中的其他应用
    </span>
  </a>
  
    <nav class="md-nav" aria-label="随机化在算法中的其他应用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tjoi2015" class="md-nav__link">
    <span class="md-ellipsis">
      例：「TJOI2015」线性代数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      例：（*）随机堆
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      与随机性有关的证明技巧
    </span>
  </a>
  
    <nav class="md-nav" aria-label="与随机性有关的证明技巧">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      概率上界的分析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      「耦合」思想
    </span>
  </a>
  
    <nav class="md-nav" aria-label="「耦合」思想">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      引子：随机图的连通性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nerc-2019-problem-g-game-relics" class="md-nav__link">
    <span class="md-ellipsis">
      应用：NERC 2019 Problem G: Game Relics
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      参考资料
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Rand technique</h1>

<div class="admonition info">
<p class="admonition-title">💾 AI智能摘要 (DeepSeek)</p>
<p>本文介绍了OI/ICPC竞赛中随机化算法的核心技巧，重点分析了两类应用场景：通过随机限制缩小解空间（如三部图染色问题）和随机命中目标集合（如窃听器布置问题）。针对三部图判定问题，提出基于2-SAT的随机染色方法，单次成功率(&#8532;)^n；对于最优边集选择问题，建立二分图费用流模型，证明时间复杂度为O(2^K K^2(n+m))。文章通过概率分析和复杂度推导，展示了随机算法在组合优化问题中的高效性和可行性。</p>
</div>
<div class="admonition info">
<p class="admonition-title">📖 阅读信息</p>
<p>阅读时间：<strong>15</strong> 分钟 | 中文字符：<strong>6050</strong> | 有效代码行数：<strong>48</strong></p>
</div>
<h2 id="_1">概述<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>前置知识：<a href="../random/">随机函数</a> 和 <a href="../../math/probability/basic-conception/">概率初步</a></p>
<p>本文将对 OI/ICPC 中的随机化相关技巧做一个简单的分类，并对每个分类予以介绍。本文也将介绍一些在 OI/ICPC 中很少使用，但与 OI/ICPC 在风格等方面较为贴近的方法，这些内容前将用 <code>(*)</code> 标注。</p>
<p>这一分类并不代表广泛共识，也必定不能囊括所有可能性，因此仅供参考。</p>
<p><strong>记号和约定</strong>：</p>
<ul>
<li><span class="arithmatex">\(\mathrm{Pr}[A]\)</span> 表示事件 <span class="arithmatex">\(A\)</span> 发生的概率。</li>
<li><span class="arithmatex">\(\mathrm{E}[X]\)</span> 表示随机变量 <span class="arithmatex">\(X\)</span> 的期望。</li>
<li>赋值号 <span class="arithmatex">\(:=\)</span> 表示引入新的量，例如 <span class="arithmatex">\(Y:=1926\)</span> 表示引入值为 <span class="arithmatex">\(1926\)</span> 的量 <span class="arithmatex">\(Y\)</span>。</li>
</ul>
<h2 id="_2">用随机集合覆盖目标元素<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>庞大的解空间中有一个（或多个）解是我们想要的。我们可以尝试进行多次撒网，只要有一次能够网住目标解就能成功。</p>
<h3 id="_3">例：三部图的判定<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<details class="note" open="open">
<summary>问题</summary>
<p>给定一张 <span class="arithmatex">\(n\)</span> 个结点、<span class="arithmatex">\(m\)</span> 条边的简单无向图，用 RGB 三种颜色给每个结点染色 满足任意一对邻居都不同色，或者报告无解。</p>
</details>
<p>对每个点 <span class="arithmatex">\(v\)</span>，从 <span class="arithmatex">\(\{R,G,B\}\)</span> 中等概率独立随机地选一种颜色 <span class="arithmatex">\(C_v\)</span>，并钦定 <span class="arithmatex">\(v\)</span>  <strong>不</strong> 被染成 <span class="arithmatex">\(C_v\)</span>。最优解恰好符合这些限制的概率，显然是 <span class="arithmatex">\(\big(\frac 23\big)^n\)</span>。</p>
<p>在这些限制下，对于一对邻居 <span class="arithmatex">\((u,v)\)</span>，「<span class="arithmatex">\(u,v\)</span> 不同色」的要求等价于以下这条「推出」关系：</p>
<ul>
<li>对于所有异于 <span class="arithmatex">\(C_u,C_v\)</span> 的颜色 <span class="arithmatex">\(X\)</span>，若 <span class="arithmatex">\(u\)</span> 被染成 <span class="arithmatex">\(X\)</span>，则 <span class="arithmatex">\(v\)</span> 被染成 <span class="arithmatex">\(\{R,G,B\}\setminus\{X,C_v\}\)</span>。</li>
</ul>
<p>于是我们可以对每个 <span class="arithmatex">\(v\)</span> 设置布尔变量 <span class="arithmatex">\(B_v\)</span>，其取值表示 <span class="arithmatex">\(v\)</span> 被染成两种剩余的颜色中的哪一种。借助 2-SAT 模型即可以 <span class="arithmatex">\(O(n+m)\)</span> 的复杂度解决这个问题。</p>
<p>这样做，单次的正确率是 <span class="arithmatex">\(\big(\frac 23\big)^n\)</span>。将算法重复运行 <span class="arithmatex">\(-\big(\frac 32\big)^n\log \epsilon\)</span> 次，只要有一次得到解就输出，这样即可保证 <span class="arithmatex">\(1-\epsilon\)</span> 的正确率。（详见后文中「概率上界的分析」）</p>
<hr />
<p><strong>回顾</strong>：本题中「解空间」就是集合 <span class="arithmatex">\(\{R,G,B\}^n\)</span>，我们每次通过随机施加限制来在一个缩小的范围内搜寻「目标解」——即合法的染色方案。</p>
<h3 id="codechef-seledge">例：<a href="https://www.codechef.com/problems/SELEDGE">CodeChef SELEDGE</a><a class="headerlink" href="#codechef-seledge" title="Permanent link">&para;</a></h3>
<details class="note" open="open">
<summary>简要题意</summary>
<p>给定一张点、边都有非负权值的无向图，找到一个大小 <span class="arithmatex">\(\leq K\)</span> 的边集合 <span class="arithmatex">\(S\)</span>，以最大化与 <span class="arithmatex">\(S\)</span> 相连的点的权值和减去 <span class="arithmatex">\(S\)</span> 的边权和。一个点的权值只被计算一次。</p>
</details>
<p>观察：如果选出的边中有三条边构成一条链，则删掉中间的那条一定不劣；如果选出的边中有若干条构成环，则删掉任何一条一定不劣。</p>
<p>推论：最优解选出的边集，一定构成若干个不相交的菊花图（即直径不超过 2 的树）。</p>
<p>推论：最优解选出的边集，一定构成一张二分图。</p>
<p>我们对每个点等概率独立随机地染上黑白两种颜色之一，并要求这一染色方案，恰好也是最优解所对应的二分图的黑白染色方案。</p>
<p>尝试计算最优解符合这一要求的概率：</p>
<ul>
<li>考虑一张 <span class="arithmatex">\(n\)</span> 个点的菊花图，显然它有 2 种染色方案，所以它被染对颜色的概率是 <span class="arithmatex">\(\dfrac 2{2^n}=2^{1-n}\)</span>。</li>
<li>假设最优解中每个菊花的结点数分别为 <span class="arithmatex">\(a_1,\cdots,a_l\)</span>，则一定有 <span class="arithmatex">\((a_1-1)+\cdots+(a_l-1)\leq K\)</span>，其中 <span class="arithmatex">\(K\)</span> 表示最多能够选出的边数。</li>
<li>从而所有菊花都被染对颜色的概率是 <span class="arithmatex">\(2^{1-a_1}\cdots 2^{1-a_l}\geq 2^{-K}\)</span>。</li>
</ul>
<p>在上述要求下，尝试建立费用流模型计算最优答案：</p>
<ul>
<li>建立二分图，白点在左侧并与 <span class="arithmatex">\(S\)</span> 相连，黑点在右侧并与 <span class="arithmatex">\(T\)</span> 相连。<ul>
<li>对于白点 <span class="arithmatex">\(v\)</span>，从 <span class="arithmatex">\(S\)</span> 向它连一条容量为 1、费用为 <span class="arithmatex">\(-A_v\)</span> 的边，和一条容量为 <span class="arithmatex">\(\infty\)</span>、费用为 0 的边。</li>
<li>对于黑点 <span class="arithmatex">\(v\)</span>，从它向 <span class="arithmatex">\(T\)</span> 连一条容量为 1、费用为 <span class="arithmatex">\(-A_v\)</span> 的边，和一条容量为 <span class="arithmatex">\(\infty\)</span>、费用为 0 的边。</li>
</ul>
</li>
<li>对于原图中的边 <span class="arithmatex">\((u,v,B)\)</span> 满足 <span class="arithmatex">\(u\)</span> 为白色、<span class="arithmatex">\(v\)</span> 为黑色，连一条从 <span class="arithmatex">\(u\)</span> 到 <span class="arithmatex">\(v\)</span> 的边，容量为 1，费用为 <span class="arithmatex">\(B\)</span>。</li>
<li>在该图中限制流量不超过 <span class="arithmatex">\(K\)</span>，则最小费用的相反数就是答案。</li>
</ul>
<p>用 SPFA 费用流求解的话，复杂度是 <span class="arithmatex">\(O\big(K^2(n+m)\big)\)</span>，证明：</p>
<ul>
<li>首先，显然 SPFA 的运行次数 <span class="arithmatex">\(\leq K\)</span>。</li>
<li>然后，在一次 SPFA 中，任何一个结点至多入队 <span class="arithmatex">\(O(K)\)</span> 次。这是因为：<ul>
<li>任意时刻有流量的边不会超过 <span class="arithmatex">\(3K\)</span> 条，否则就意味着在原图中选了超过 <span class="arithmatex">\(K\)</span> 条边。</li>
<li>对于任何一条长为 <span class="arithmatex">\(L\)</span> 的增广路，其中至少有 <span class="arithmatex">\(\dfrac L2-2\)</span> 条边是某条有流量的边的反向边，因为正向边都是从图的左侧指向右侧，只有这些反向边才会从右侧指向左侧。</li>
<li>综合以上两条，得到任意一条增广路的长度不超过 <span class="arithmatex">\(6K+4\)</span>。</li>
</ul>
</li>
<li>综上，复杂度是 <span class="arithmatex">\(O\big(K^2(n+m)\big)\)</span>。</li>
</ul>
<p>和上一题类似，我们需要把整个过程重复 <span class="arithmatex">\(-2^K \log\epsilon\)</span> 次以得到 <span class="arithmatex">\(1-\epsilon\)</span> 的正确率。总复杂度 <span class="arithmatex">\(O\big(2^KK^2(n+m)\cdot -\log\epsilon\big)\)</span>。</p>
<h2 id="_4">用随机元素命中目标集合<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<p>我们需要确定一个集合中的任意一个元素，为此我们随机选取元素，以期能够恰好命中这一集合。</p>
<h3 id="gym-101550i">例：<a href="https://codeforces.com/gym/101550/attachments">Gym 101550I</a><a class="headerlink" href="#gym-101550i" title="Permanent link">&para;</a></h3>
<details class="note" open="open">
<summary>简要题意</summary>
<p>有一张图形如：两条平行的链，加上连接两链的两条平行边。给定这张图上的若干条简单路径（每条路径表示一次通话），请你选择尽量少的边放置窃听器，以使得每条给定的路径上都有至少一个窃听器。</p>
</details>
<p>整张图可以拆分为一个环加上四条从环伸出去的链。对于这四条链中的任何一条（记作 <span class="arithmatex">\(C\)</span>），考虑在这条链上如何放置窃听器，容易通过贪心算法得到满足以下条件的方案：</p>
<ul>
<li>在拦截所有 <span class="arithmatex">\(C\)</span> 内部进行的通话的前提下，用的窃听器数量最少。</li>
<li>在上一条的前提下，使得 <span class="arithmatex">\(C\)</span> 上的窃听器离环的最短距离尽可能小。<ul>
<li>作这一要求的目的是尽可能地拦截恰有一个端点在 <span class="arithmatex">\(C\)</span> 内部的通话。</li>
</ul>
</li>
</ul>
<p>接着考虑链与环相接处的共计 4 条边，我们暴力枚举这些边上有没有放窃听器。显然，如果想要拦截跨越链和环的通话，在这 4 条边上放窃听器一定是最优的。现在，我们可以把通话线路分为以下几种：</p>
<ol>
<li>完全在链上的通话线路。这些线路一定已经被拦截，故可以忽略。</li>
<li>跨越链和环，且已经被拦截的通话线路。它们可以忽略。</li>
<li>跨越链和环，且未被拦截的通话线路。我们可以直接截掉它在链上的部分（因为链上的窃听器放置方案已经固定了），只保留环上的部分。</li>
<li>完全在环上的通话线路。</li>
</ol>
<p>至此，问题转化成了环上的问题。</p>
<p>设最优解中在环上的边集 <span class="arithmatex">\(S\)</span> 上放置了窃听器，如果我们已经确定了 <span class="arithmatex">\(S\)</span> 中的任何一个元素 <span class="arithmatex">\(e\)</span>，就可以：</p>
<ul>
<li>先在 <span class="arithmatex">\(e\)</span> 处断环为链。</li>
<li>然后从 <span class="arithmatex">\(e\)</span> 开始贪心，不断找到下一个放置窃听器的边。注意到如果经过合适的预处理，贪心的每一步可以做到 <span class="arithmatex">\(O(1)\)</span> 的复杂度。</li>
<li>从而以 <span class="arithmatex">\(O(|S|)\)</span> 的复杂度解决问题。</li>
</ul>
<p>我们考虑随机选取环上的一条边 <span class="arithmatex">\(e'\)</span>，并钦定 <span class="arithmatex">\(e'\in S\)</span> 再执行上述过程，重复多次取最优。</p>
<p>分析单次复杂度：</p>
<ul>
<li>观察：记 <span class="arithmatex">\(S'\)</span> 表示所有选取了 <span class="arithmatex">\(e'\)</span> 的方案中的最优解，则 <span class="arithmatex">\(|S'|\leq |S|+1\)</span>。</li>
<li>从而单次复杂度 <span class="arithmatex">\(O(|S'|)=O(|S|)\)</span>。</li>
</ul>
<p>分析正确率：</p>
<ul>
<li>显然单次正确率 <span class="arithmatex">\(\dfrac {|S|}n\)</span>，其中 <span class="arithmatex">\(n\)</span> 表示环长。</li>
<li>所以需要重复 <span class="arithmatex">\(-\dfrac n{|S|}\log\epsilon\)</span> 次以得到 <span class="arithmatex">\(1-\epsilon\)</span> 的正确率。</li>
</ul>
<p>综上，该算法的复杂度 <span class="arithmatex">\(O\big(|S|\cdot -\dfrac n{|S|}\log\epsilon\big)=O(-n\log\epsilon)\)</span>。</p>
<h3 id="cses-1685-new-flight-routes">例：<a href="https://cses.fi/problemset/task/1685">CSES 1685 New Flight Routes</a><a class="headerlink" href="#cses-1685-new-flight-routes" title="Permanent link">&para;</a></h3>
<details class="note" open="open">
<summary>简要题意</summary>
<p>给定一张有向图，请你加最少的边使得该图强连通，需 <strong>输出方案</strong>。</p>
</details>
<p>先对原图进行强连通缩点。我们的目标显然是使每个汇点能到达每个源点。</p>
<p>不难证明，我们一定只会从汇点到源点连边，因为任何其他的连边，都能对应上一条不弱于它的、从汇点到源点的连边。</p>
<p>我们的一个核心操作是，取汇点 <span class="arithmatex">\(t\)</span> 和源点 <span class="arithmatex">\(s\)</span>（它们不必在同一个弱连通分量里），连边 <span class="arithmatex">\(t\to s\)</span> 以 <strong>使得 <span class="arithmatex">\(s\)</span> 和 <span class="arithmatex">\(t\)</span> 都不再是汇点或源点</strong>（记作目标 I）。理想情况下这种操作每次能减少一个汇点和一个源点，那我们不断操作直到只剩一个汇点或只剩一个源点，而这样的情形就很平凡了。由此，我们猜测答案是源点个数与汇点个数的较大值。</p>
<p>不难发现，上述操作能够达到目标 I 的充要条件是：<span class="arithmatex">\(t\)</span> 拥有 <span class="arithmatex">\(s\)</span> 以外的前驱、且 <span class="arithmatex">\(s\)</span> 拥有 <span class="arithmatex">\(t\)</span> 以外的后继。可以证明（等会会给出证明），对于任意一张有着至少两个源点和至少两个汇点的 DAG，都存在这样的 <span class="arithmatex">\((s,t)\)</span>；但存在性的结论无法帮助我们构造方案，还需做其他分析。</p>
<ul>
<li>有了这个充要条件还难以直接得到算法，主要的原因是连边 <span class="arithmatex">\(t\to s\)</span> 后可能影响其他 <span class="arithmatex">\((s',t')\)</span> 二元组的合法性，这个比较难处理。</li>
</ul>
<p>注意到我们关于源汇点间的关系知之甚少（甚至连快速查询一对 <span class="arithmatex">\(s-t\)</span> 间是否可达都需要 dfs + bitset 预处理，而时限并不允许这么做），这提示我们需要某种非常一般和强大的性质。</p>
<p>观察：不满足目标 I 的 <span class="arithmatex">\((s,t)\)</span> 至多有 <span class="arithmatex">\(n+m-1\)</span> 对，其中 <span class="arithmatex">\(n\)</span> 表示源点个数，<span class="arithmatex">\(m\)</span> 表示汇点个数。</p>
<ul>
<li>理由：对于每一对这样的 <span class="arithmatex">\((s,t)\)</span>，若把它看成 <span class="arithmatex">\(s,t\)</span> 间的一条边，则所有这些边构成的图形如若干条不相交的链，于是边数不超过点数减一。</li>
<li>作出这一观察的动机是，要想将存在性结论应用于算法，前置步骤往往是把定性的结果加强为定量的结果。</li>
</ul>
<p>推论：等概率随机选取 <span class="arithmatex">\((s,t)\)</span>，满足前述要求的概率 <span class="arithmatex">\(\geq \dfrac {(n-1)(m-1)}{nm}\)</span>。</p>
<ul>
<li>注意到这个结论严格强于先前给出的存在性结论。</li>
</ul>
<p>推论：等概率独立随机地连续选取 <span class="arithmatex">\(\dfrac {\min(n,m)}2\)</span> 对不含公共元素的 <span class="arithmatex">\((s,t)\)</span>，并对它们 <strong>依次</strong> 操作（即连边 <span class="arithmatex">\(t\to s\)</span>），则这些操作全部满足目标 I 的概率 <span class="arithmatex">\(\geq \dfrac 14\)</span>。</p>
<ul>
<li>理由：</li>
</ul>
<div class="arithmatex">\[
\begin{aligned}
&amp;\phantom{=\ }\dfrac {(n-1)(m-1)}{nm}\cdot\dfrac{(n-2)(m-2)}{(n-1)(m-1)}\cdots\dfrac{(n-k)(m-k)}{(n-k+1)(m-k+1)}\\
&amp;=\dfrac{(n-k)(m-k)}{nm}\\
&amp;\geq \dfrac 14
\end{aligned}
\]</div>
<p>而连续选完 <span class="arithmatex">\(k\)</span> 对 <span class="arithmatex">\((s,t)\)</span> 后判断它们是否全部满足目标 I 很简单，只要再跑一遍强连通缩点，判断一下 <span class="arithmatex">\(n,m\)</span> 是否都减小了 <span class="arithmatex">\(k\)</span> 即可。注意到若每次减少 <span class="arithmatex">\(k=\dfrac{\min(n,m)}2\)</span>，则 <span class="arithmatex">\(\min(n,m)\)</span> 必在 <span class="arithmatex">\(O\big(\log(n+m)\big)\)</span> 轮内变成 1，也就转化到了平凡的情况。</p>
<details class="note" open="open">
<summary>算法伪代码</summary>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span>
<span class="normal"><a href="#__codelineno-0-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>while(n&gt;1 and m&gt;1):
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>    randomly choose k=min(n,m)/2 pairs (s,t)
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>    add edge t-&gt;s for all these pairs
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>    if new_n&gt;n-k or new_m&gt;m-k:
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>        roll_back()
<a id="__codelineno-0-6" name="__codelineno-0-6"></a>solve_trivial()
</code></pre></div></td></tr></table></div>
</details>
<p>复杂度 <span class="arithmatex">\(O\big((|V|+|E|) \log |V|\big)\)</span>。</p>
<hr />
<p><strong>回顾</strong>：我们需要确定任意一对能够实现目标 I 的二元组 <span class="arithmatex">\((s,t)\)</span>，为此我们随机选择 <span class="arithmatex">\((s,t)\)</span>。</p>
<h2 id="_5">用随机化获得随机数据的性质<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<p>如果一道题的数据随机生成，我们可能可以利用随机数据的性质解决它。而在有些情况下，即使数据并非随机生成，我们也可以通过随机化来给其赋予随机数据的某些特性，从而帮助解决问题。</p>
<h3 id="_6">例：随机增量法<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p>随机生成的元素序列可能具有「前缀最优解变化次数期望下很小」等性质，而随机增量法就通过随机打乱输入的序列来获得这些性质。</p>
<p>详见 <a href="../../geometry/random-incremental/">随机增量法</a>。</p>
<h3 id="topcoder-magicmolecule">例：<a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=11705">TopCoder MagicMolecule</a> 随机化解法<a class="headerlink" href="#topcoder-magicmolecule" title="Permanent link">&para;</a></h3>
<details class="note" open="open">
<summary>简要题意</summary>
<p>给定一张 <span class="arithmatex">\(n\)</span> 个点、带点权的无向图，在其中所有大小不小于 <span class="arithmatex">\(\dfrac {2n}3\)</span> 的团中，找到点权和最大的那个。</p>
<p><span class="arithmatex">\(n\leq 50\)</span></p>
</details>
<p>不难想到折半搜索。把点集均匀分成左右两半 <span class="arithmatex">\(V_L,V_R\)</span>（大小都为 <span class="arithmatex">\(\dfrac n2\)</span>），计算数组 <span class="arithmatex">\(f_{L,k}\)</span> 表示点集 <span class="arithmatex">\(L\subseteq V_L\)</span> 中的所有 <span class="arithmatex">\(\geq k\)</span> 元团的最大权值和。接着我们枚举右半边的每个团 <span class="arithmatex">\(C_R\)</span>，算出左半边有哪些点与 <span class="arithmatex">\(C_R\)</span> 中的所有点相连（这个点集记作 <span class="arithmatex">\(N_L\)</span>），并用 <span class="arithmatex">\(f_{N_L,\frac 23 n-|C_R|}+\textit{value}(C_R)\)</span> 更新答案。</p>
<ul>
<li>注意到可以 <span class="arithmatex">\(O(1)\)</span> 转移每一个 <span class="arithmatex">\(f_{L,k}\)</span>。具体地说，取 <span class="arithmatex">\(d\)</span> 为 <span class="arithmatex">\(L\)</span> 中的任意一个元素，然后分类讨论：<ul>
<li>假设最优解中 <span class="arithmatex">\(d\)</span> 不在团中，则从 <span class="arithmatex">\(f_{L\setminus \{d\},k}\)</span> 转移而来。</li>
<li>假设最优解中 <span class="arithmatex">\(d\)</span> 在团中，则从 <span class="arithmatex">\(f_{L\cap N(d),k}+\textit{value}(d)\)</span> 转移而来，其中 <span class="arithmatex">\(N(d)\)</span> 表示 <span class="arithmatex">\(d\)</span> 的邻居集合。</li>
<li>别忘了还要用 <span class="arithmatex">\(f_{L,k+1}\)</span> 来更新 <span class="arithmatex">\(f_{L,k}\)</span>。</li>
</ul>
</li>
</ul>
<p>这个解法会超时。尝试优化：</p>
<ul>
<li>平分点集时均匀随机地划分。这样的话，最优解的点集 <span class="arithmatex">\(C_{res}\)</span> 以可观的概率也被恰好平分（即 <span class="arithmatex">\(|C_{res}\cap V_L|=|C_{res}\cap V_R|\)</span>）。<ul>
<li>当然，<span class="arithmatex">\(|C_{res}|\)</span> 可能是奇数。简单起见，这里假设它是偶数；奇数的情况对解法没有本质改变。</li>
<li>实验发现，随机尝试约 20 次就能以很大概率有至少一次满足该性质。也就是说，如果我们的算法依赖于「<span class="arithmatex">\(C_{res}\)</span> 被平分」这一性质，则将算法重复执行 20 次取最优，同样也能保证以很大概率得到正确答案。</li>
</ul>
</li>
<li>有了这一性质，我们就可以直接钦定左侧团 <span class="arithmatex">\(L\)</span>、右侧团 <span class="arithmatex">\(C_R\)</span> 的大小都 <span class="arithmatex">\(\geq \dfrac n3\)</span>。这会对复杂度带来两处改进：<ul>
<li><span class="arithmatex">\(f\)</span> 可以省掉记录大小的维度。</li>
<li>因为只需考虑大小 <span class="arithmatex">\(\geq \dfrac n3\)</span> 的团，所以需要考虑的左侧团 <span class="arithmatex">\(L\)</span> 和 右侧团 <span class="arithmatex">\(C_R\)</span> 的数量也大大减少至约 <span class="arithmatex">\(1.8\cdot 10^6\)</span>。</li>
</ul>
</li>
<li>现在的瓶颈变成了求单侧的某一子集的权值和，因为这需要 <span class="arithmatex">\(O\big(2^{|V_L|}+2^{|V_R|}\big)\)</span> 的预处理。<ul>
<li>解决方案：在 <span class="arithmatex">\(V_L,V_R\)</span> 内部再次折半；当查询一个子集的权值和时，将这个子集分成左右两半查询，再把答案相加。</li>
</ul>
</li>
<li>这样即可通过本题。</li>
</ul>
<hr />
<p><strong>回顾</strong>：一个随机的集合有着「在划分出的两半的数量差距不会太悬殊」这一性质，而我们通过随机划分获取了这个性质。</p>
<h2 id="_7">随机化用于哈希<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h2>
<h3 id="uoj-207">例：<a href="https://uoj.ac/problem/207">UOJ #207 共价大爷游长沙</a><a class="headerlink" href="#uoj-207" title="Permanent link">&para;</a></h3>
<details class="note" open="open">
<summary>简要题意</summary>
<p>维护一棵动态变化的树，和一个动态变化的结点二元组集合。你需要支持：</p>
<ul>
<li>删边、加边。保证得到的还是一棵树。</li>
<li>加入/删除某个结点二元组。</li>
<li>给定一条边 <span class="arithmatex">\(e\)</span>，判断是否对于集合中的每个结点二元组 <span class="arithmatex">\((s,t)\)</span>，<span class="arithmatex">\(e\)</span> 都在 <span class="arithmatex">\(s,t\)</span> 间的简单路径上。</li>
</ul>
</details>
<p>对图中的每条边 <span class="arithmatex">\(e\)</span>，我们定义集合 <span class="arithmatex">\(S_e\)</span> 表示经过该边的关键路径（即题中的 <span class="arithmatex">\((a,b)\)</span>）集合。考虑对每条边动态维护集合 <span class="arithmatex">\(S_e\)</span> 的哈希值，这样就能轻松判定 <span class="arithmatex">\(S_e\)</span> 是否等于全集（即 <span class="arithmatex">\(e\)</span> 是否是「必经之路」）。</p>
<p>哈希的方式是，对每个 <span class="arithmatex">\((a,b)\)</span> 赋予 <span class="arithmatex">\(2^{64}\)</span> 以内的随机非负整数 <span class="arithmatex">\(H_{(a,b)}\)</span>，然后一个集合的哈希值就是其中元素的 <span class="arithmatex">\(H\)</span> 值的异或和。</p>
<p>这样的话，任何一个固定的集合的哈希值一定服从 <span class="arithmatex">\(R:=\left\{0,1,\cdots,2^{64}-1\right\}\)</span> 上的均匀分布（换句话说，哈希值的取值范围为 <span class="arithmatex">\(R\)</span>，且取每一个值的概率相等）。这是因为：</p>
<ol>
<li>单个 <span class="arithmatex">\(H_{(a,b)}\)</span> 显然服从均匀分布。</li>
<li>两个独立且服从 <span class="arithmatex">\(R\)</span> 上的均匀分布的随机变量的异或和，一定也服从 <span class="arithmatex">\(R\)</span> 上的均匀分布。自证不难。</li>
</ol>
<p>从而该算法的正确率是有保障的。</p>
<p>至于如何维护这个哈希值，使用 LCT 即可。</p>
<h3 id="codechef-panic">例：<a href="https://www.codechef.com/problems/PANIC">CodeChef PANIC</a> 及其错误率分析<a class="headerlink" href="#codechef-panic" title="Permanent link">&para;</a></h3>
<p>本题的大致解法：</p>
<ol>
<li>可以证明<sup id="fnref:ref1"><a class="footnote-ref" href="#fn:ref1">1</a></sup> <span class="arithmatex">\(S(N)\)</span> 服从一个关于 <span class="arithmatex">\(N\)</span> 的 <span class="arithmatex">\(O(K)\)</span> 阶线性递推式。</li>
<li>用 BM 算法求出该递推式。</li>
<li>借助递推式，用凯莱哈密顿定理计算出 <span class="arithmatex">\(S(N)\)</span>。</li>
</ol>
<p>这里仅关注第二部分，即如何求一个矩阵序列的递推式。所以我们只需考虑下述问题：</p>
<details class="note" open="open">
<summary>问题</summary>
<p>给定一个矩阵序列，该序列在模 <span class="arithmatex">\(P:=998244353\)</span> 意义下服从一个齐次线性递推式（递推式中的数乘和加法运算定义为矩阵的数乘和加法），求出最短递推式。</p>
</details>
<p>如果一系列矩阵服从一个递推式 <span class="arithmatex">\(F\)</span>，那么它的每一位也一定服从 <span class="arithmatex">\(F\)</span>。然而，如果对某一位求出最短递推式 <span class="arithmatex">\(F'\)</span>，则 <span class="arithmatex">\(F'\)</span> 可能会比 <span class="arithmatex">\(F\)</span> 更短，从而产生问题。</p>
<p>解决方案：给矩阵的每一位 <span class="arithmatex">\((i,j)\)</span> 赋予一个 <span class="arithmatex">\(&lt;P\)</span> 的随机权值 <span class="arithmatex">\(x_{i,j}\)</span>，然后对于序列中每个矩阵计算其所有位的加权和模 <span class="arithmatex">\(P\)</span> 的结果，再把每个矩阵算出的这个数连成一个数列，最后我们对所得数列运行 BM 算法。</p>
<p>错误率分析：</p>
<ul>
<li>假设上述做法求得了不同于 <span class="arithmatex">\(F\)</span>（且显然也不长于 <span class="arithmatex">\(F\)</span>）的 <span class="arithmatex">\(l\)</span> 阶递推式 <span class="arithmatex">\(F'\)</span>。</li>
<li>因为矩阵序列不服从 <span class="arithmatex">\(F'\)</span>，所以一定存在矩阵中的某个位置 <span class="arithmatex">\((i,j)\)</span>，满足该位置对应的数列 <span class="arithmatex">\(S_{i,j}\)</span> 在某个 <span class="arithmatex">\(N\)</span> 处不服从 <span class="arithmatex">\(F'\)</span>。也就是说：</li>
</ul>
<div class="arithmatex">\[
S(N)_{i,j}-F'_1S(N-1)_{i,j}-\cdots-F'_lS(N-l)_{i,j}\not\equiv 0\pmod {P}
\]</div>
<ul>
<li>假设 <span class="arithmatex">\((i,j)\)</span> 是唯一的不服从的位置，则一定有：</li>
</ul>
<div class="arithmatex">\[
T_{i,j}:=\Big(x_{i,j}\cdot\big(S(N)_{i,j}-F'_1S(N-1)_{i,j}-\cdots-F'_lS(N-l)_{i,j}\big)\bmod P\Big)=0
\]</div>
<ul>
<li>显然这仅当 <span class="arithmatex">\(x_{i,j}=0\)</span> 时才成立，概率 <span class="arithmatex">\(P^{-1}\)</span>。</li>
<li>如果有多个不服从的位置呢？<ul>
<li>对每个这样的位置 <span class="arithmatex">\((i,j)\)</span>，易证 <span class="arithmatex">\(T_{i,j}\)</span> 服从 <span class="arithmatex">\(R:=\{0,1,\cdots,P-1\}\)</span> 上的均匀分布。</li>
<li>若干个互相独立的、服从 <span class="arithmatex">\(R\)</span> 上的均匀分布的随机变量，它们在模意义下的和，依然服从 <span class="arithmatex">\(R\)</span> 上的均匀分布。自证不难。</li>
<li>从而这种情况下的错误率也是 <span class="arithmatex">\(P^{-1}\)</span>。</li>
</ul>
</li>
</ul>
<h3 id="uoj-552">例：<a href="https://uoj.ac/problem/552">UOJ #552 同构判定鸭</a> 及其错误率分析<a class="headerlink" href="#uoj-552" title="Permanent link">&para;</a></h3>
<details class="note" open="open">
<summary>简要题意</summary>
<p>给定两张边权为小写字母的有向图 <span class="arithmatex">\(G_0,G_1\)</span>，你要对这两张图分别算出「所有路径对应的字符串构成的多重集」（可能是无穷集），并判断这两个多重集是否相等。如果不相等，你要给出一个最短的串，满足它在两个多重集中的出现次数不相等。</p>
</details>
<p>令 <span class="arithmatex">\(f_{K,i,j}\)</span> 表示图 <span class="arithmatex">\(G_K\)</span> 中从点 <span class="arithmatex">\(i\)</span> 开始的所有长为 <span class="arithmatex">\(j\)</span> 的路径，这些路径对应的所有字符串构成的多重集的哈希值。按照 <span class="arithmatex">\(j\)</span> 升序考虑每个状态，转移时枚举 <span class="arithmatex">\(i\)</span> 的出边并钦定该边为路径上的第一条边。</p>
<p>要判断是否存在长度 <span class="arithmatex">\(=L\)</span> 的坏串，只需把 <span class="arithmatex">\(\{f_{0,*,L}\}\)</span> 和 <span class="arithmatex">\(\{f_{1,*,L}\}\)</span> 各自「整合」起来再比较即可（通配符 <code>*</code> 这里表示每一个结点，例如 <span class="arithmatex">\(\{f_{0,*,L}\}\)</span> 表示全体 <span class="arithmatex">\(f_{0,i,L}\)</span> 构成的集合，其中 <span class="arithmatex">\(i\)</span> 取遍所有结点）。官方题解<sup id="fnref:ref2"><a class="footnote-ref" href="#fn:ref2">2</a></sup>中证明了最短坏串（如果存在的话）长度一定不超过 <span class="arithmatex">\(n_1+n_2\)</span>，所以这个解法的复杂度是可靠的。</p>
<p>接下来考虑具体的哈希方式。注意到常规的哈希方法——即把串 <span class="arithmatex">\(a_1a_2\cdots a_k\)</span> 映射到 <span class="arithmatex">\(\big(a_1+Pa_2+P^2a_3+\cdots+P^{k-1}a_k\big)\bmod Q\)</span> 上、再把多重集的哈希值定为其中元素的哈希值之和模 <span class="arithmatex">\(Q\)</span>——在这里是行不通的。一个反例是，集合 <code>{"ab","cd"}</code> 与集合 <code>{"cb","ad"}</code> 的哈希值是一样的，不论 <span class="arithmatex">\(P,Q\)</span> 如何取值。</p>
<p>上述做法的问题在于，一个串的哈希值是一个和式，从而其中的每一项可以拆出来并重组。为避免这一问题，我们考虑把哈希值改为一个连乘式。此外，乘法交换律会使得不同的位不可区分，为避免这一点我们要为不同的位赋予不同的权值。</p>
<p>对每一个二元组 <span class="arithmatex">\((c,j)\)</span>（其中 <span class="arithmatex">\(c\)</span> 为字符，<span class="arithmatex">\(j\)</span> 为整数表示 <span class="arithmatex">\(c\)</span> 在某个串中的第几位）我们都预先生成一个随机数 <span class="arithmatex">\(x_{c,j}\)</span>。然后我们把串 <span class="arithmatex">\(a_1a_2\cdots a_k\)</span> 映射到 <span class="arithmatex">\(x_{a_1,1}x_{a_2,2}\cdots x_{a_k,k}\bmod Q\)</span> 上（其中 <span class="arithmatex">\(Q\)</span> 为 <strong>随机选取</strong> 的质数）、再把多重集的哈希值定为其中元素的哈希值之和模 <span class="arithmatex">\(Q\)</span>。接下来分析它的错误率。</p>
<details class="note" open="open">
<summary>(*)Schwartz–Zippel 引理</summary>
<p>令 <span class="arithmatex">\(f\in F[z_1,\cdots,z_k]\)</span> 为域 <span class="arithmatex">\(F\)</span> 上的 <span class="arithmatex">\(k\)</span> 元 <span class="arithmatex">\(d\)</span> 次非零多项式，令 <span class="arithmatex">\(S\)</span> 为 <span class="arithmatex">\(F\)</span> 的有限子集，则至多有 <span class="arithmatex">\(d\cdot |S|^{k-1}\)</span> 组 <span class="arithmatex">\((z_1,\cdots,z_k)\in S^k\)</span> 满足 <span class="arithmatex">\(f(z_1,\cdots,z_k)=0\)</span>。</p>
<details class="note">
<summary>如果你不知道域是什么</summary>
<p>你只需记得这两样东西都是域：</p>
<ol>
<li>模质数的剩余系，以及其上的各种运算。</li>
<li>实数集，以及其上的各种运算。</li>
</ol>
</details>
<p>推论：若 <span class="arithmatex">\(z_1,\cdots,z_k\)</span> 都在 <span class="arithmatex">\(S\)</span> 中等概率独立随机选取，则 <span class="arithmatex">\(\mathrm{Pr}\big[f(z_1,\cdots,z_k)=0\big]\leq \dfrac d{|S|}\)</span>。</p>
</details>
<p>记 <span class="arithmatex">\(F\)</span> 为模 <span class="arithmatex">\(Q\)</span> 的剩余系所对应的域，则对于一个 <span class="arithmatex">\(L\leq n_1+n_2\)</span>，<span class="arithmatex">\(\sum\limits_i f_{0,i,L}\)</span> 和 <span class="arithmatex">\(\sum\limits_i f_{1,i,L}\)</span> 就分别对应着一个 <span class="arithmatex">\(F\)</span> 上关于变元集合 <span class="arithmatex">\(\{x_{*,*}\}\)</span> 的 <span class="arithmatex">\(L\)</span> 次多元多项式，不妨将这两个多项式记为 <span class="arithmatex">\(P_0,P_1\)</span>。</p>
<p>假如两个不同的字符串多重集的哈希值相同，则有两种可能：</p>
<ol>
<li><span class="arithmatex">\(P_0\equiv P_1\pmod {Q}\)</span>，即 <span class="arithmatex">\(P_0,P_1\)</span> 的每一项系数在模 <span class="arithmatex">\(Q\)</span> 意义下都对应相等。</li>
<li><span class="arithmatex">\(P_0\not\equiv P_1\pmod {Q}, P_0(x_{*,*})\equiv P_1(x_{*,*})\pmod {Q}\)</span>，即 <span class="arithmatex">\(P_0,P_1\)</span> 虽然不恒等，但我们选取的这一组 <span class="arithmatex">\(\{x_{*,*}\}\)</span> 恰好使得它们在此处的点值相等。</li>
</ol>
<p>分析前者发生的概率：</p>
<ul>
<li>观察：对于任意的 <span class="arithmatex">\(A\neq B; A,B\leq N\)</span> 和随机选取的质数 <span class="arithmatex">\(Q\leq Q_{\max}\)</span>，一定有：</li>
</ul>
<div class="arithmatex">\[
\mathrm{Pr}\big[A\equiv B\pmod {Q}\big]=O\Big(\dfrac{\log N \log Q_{max}}{Q_{max}}\Big)
\]</div>
<ul>
<li>这是因为：使 <span class="arithmatex">\(A\equiv B\)</span> 成立的 <span class="arithmatex">\(Q\)</span> 一定满足 <span class="arithmatex">\(Q\big|(A-B)\)</span>，这样的 <span class="arithmatex">\(Q\)</span> 有 <span class="arithmatex">\(\omega(A-B)\leq \log_2 N\)</span> 个；而由质数定理，<span class="arithmatex">\(Q_{\max}\)</span> 以内不同的质数又有 <span class="arithmatex">\(\Theta\Big(\dfrac {Q_{\max}}{\log Q_{\max}}\Big)\)</span> 个。将两者相除即可得到上式。</li>
<li>在上述观察中取 <span class="arithmatex">\(A,B\)</span>（满足 <span class="arithmatex">\(A\neq B\)</span>）为某一特定项在 <span class="arithmatex">\(P_0,P_1\)</span> 中的系数（也就等于该项对应的串在 <span class="arithmatex">\(G_0,G_1\)</span> 中的出现次数），则易见 <span class="arithmatex">\(A,B\leq (m_1+m_2)^{L}\)</span>，得到：</li>
</ul>
<div class="arithmatex">\[
\mathrm{Pr}\big[A\equiv B\pmod {Q}\big]=O\Big(\dfrac{L\log (m_1+m_2) \log Q_{max}}{Q_{max}}\Big)
\]</div>
<ul>
<li>所以取 <span class="arithmatex">\(Q_{\max}\approx 10^{12}\)</span> 就绰绰有余。如果机器无法支持这么大的整数运算，可以用双哈希代替。</li>
</ul>
<p>分析后者发生的概率：</p>
<ul>
<li>在 Schwartz–Zippel 引理中：<ul>
<li>取域 <span class="arithmatex">\(F\)</span> 为模 <span class="arithmatex">\(Q\)</span> 的剩余系对应的域</li>
<li>取 <span class="arithmatex">\(f(x_{*,*})=P_0(x_{*,*})-P_1(x_{*,*})\)</span> 为 <span class="arithmatex">\(L\)</span> 次非零多项式</li>
<li>取 <span class="arithmatex">\(S=F\)</span></li>
</ul>
</li>
<li>得到：所求概率 <span class="arithmatex">\(\leq \dfrac LQ\)</span>。</li>
</ul>
<p>注意到我们需要对每个 <span class="arithmatex">\(L\)</span> 都能保证正确性，所以要想保证严谨的话还需用 Union Bound（见后文）说明一下。</p>
<p>实践上我们不必随机选取模数，因为——比如说——用自己的生日做模数的话，实际上已经相当于随机数了。</p>
<h3 id="_8">例：（*）子矩阵不同元素个数<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<details class="note" open="open">
<summary>问题</summary>
<p>给定 <span class="arithmatex">\(n\times m\)</span> 的矩阵，<span class="arithmatex">\(q\)</span> 次询问一个连续子矩阵中不同元素的个数，要求在线算法。</p>
<p>允许 <span class="arithmatex">\(\epsilon\)</span> 的相对误差和 <span class="arithmatex">\(\delta\)</span> 的错误率，换句话说，你要对至少 <span class="arithmatex">\((1-\delta)q\)</span> 个询问给出离正确答案相对误差不超过 <span class="arithmatex">\(\epsilon\)</span> 的回答。</p>
<p><span class="arithmatex">\(n\cdot m\leq 2\cdot10^5;q\leq 10^6;\epsilon=0.5,\delta=0.2\)</span></p>
</details>
<p>引理：令 <span class="arithmatex">\(X_{1\cdots k}\)</span> 为互相独立的随机变量，且取值在 <span class="arithmatex">\([0,1]\)</span> 中均匀分布，则 <span class="arithmatex">\(\mathrm{E}\big[\min\limits_i X_i\big]=\dfrac 1{k+1}\)</span>。</p>
<ul>
<li>证明：考虑一个单位圆，其上分布着 <strong>相对位置</strong> 均匀随机的 <span class="arithmatex">\(k+1\)</span> 个点，分别在位置 <span class="arithmatex">\(0,X_1,X_2,\cdots,X_k\)</span> 处。那么 <span class="arithmatex">\(\min\limits_i X_i\)</span> 就等于 <span class="arithmatex">\(k+1\)</span> 段空隙中特定的一段的长度。而因为这些空隙之间是「对称」的，所以其中任何一段特定空隙的期望长度都是 <span class="arithmatex">\(\dfrac 1{k+1}\)</span>。</li>
</ul>
<p>我们取 <span class="arithmatex">\(k\)</span> 为不同元素的个数，并借助上述引理来从 <span class="arithmatex">\(\min\limits_i X_i\)</span> 反推得到 <span class="arithmatex">\(k\)</span>。</p>
<p>考虑采用某个哈希函数，将矩阵中每个元素都均匀、独立地随机映射到 <span class="arithmatex">\([0,1]\)</span> 中的实数上去，且相等的元素会映射到相等的实数。这样的话，一个子矩阵中的所有元素对应的那些实数，在去重后就恰好是先前的集合 <span class="arithmatex">\(\{X_1,\cdots,X_k\}\)</span> 的一个实例，其中 <span class="arithmatex">\(k\)</span> 等于子矩阵中不同元素的个数。</p>
<p>于是我们得到了算法：</p>
<ol>
<li>给矩阵中元素赋 <span class="arithmatex">\([0,1]\)</span> 中的哈希值。为保证随机性，哈希函数可以直接用 <code>map</code> 和随机数生成器实现，即每遇到一个新的未出现过的值就给它随机一个哈希值。</li>
<li>回答询问时设法求出子矩阵中哈希值的最小值 <span class="arithmatex">\(M\)</span>，并输出 <span class="arithmatex">\(\dfrac 1M-1\)</span>。</li>
</ol>
<p>然而，这个算法并不能令人满意。它的输出值的期望是 <span class="arithmatex">\(\mathrm{E}\Big[\dfrac 1{\min\limits_i X_i}-1\Big]\)</span>，但事实上这个值并不等于 <span class="arithmatex">\(\dfrac 1{\mathrm{E}\big[\min\limits_i X_i\big]}-1=k\)</span>，而（可以证明）等于 <span class="arithmatex">\(\infty\)</span>。</p>
<p>也就是说，我们不能直接把 <span class="arithmatex">\(\min\limits_i X_i\)</span> 的单次取值放在分母上，而要先算得它的期望，再把期望值放在分母上。</p>
<p>怎么算期望值？多次随机取平均。</p>
<p>我们用 <span class="arithmatex">\(C\)</span> 组不同的哈希函数分别执行前述过程，回答询问时计算出 <span class="arithmatex">\(C\)</span> 个不同的 <span class="arithmatex">\(M\)</span> 值，并算出其平均数 <span class="arithmatex">\(\overline M\)</span>，然后输出 <span class="arithmatex">\(\big(\overline M\big)^{-1}-1\)</span>。</p>
<p>实验发现取 <span class="arithmatex">\(C\approx 80\)</span> 即可满足要求。严格证明十分繁琐，在此略去。</p>
<p>最后，怎么求子矩阵最小值？用二维 S-T 表即可，预处理 <span class="arithmatex">\(O(nm\log n\log m)\)</span>，回答询问 <span class="arithmatex">\(O(1)\)</span>。</p>
<h2 id="_9">随机化在算法中的其他应用<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<p>随机化的其他作用还包括：</p>
<ul>
<li>防止被造数据者用针对性数据卡掉。例如在搜索时随机打乱邻居的顺序。</li>
<li>保证算法过程中进行的「操作」具有（某种意义上的）均匀性。例如 <a href="../simulated-annealing/">模拟退火</a> 算法。</li>
</ul>
<p>在这些场景下，随机化常常（但并不总是）与乱搞、骗分等做法挂钩。</p>
<h3 id="tjoi2015">例：<a href="https://loj.ac/problem/2100">「TJOI2015」线性代数</a><a class="headerlink" href="#tjoi2015" title="Permanent link">&para;</a></h3>
<p>本题的标准算法是网络流，但这里我们采取这样的乱搞做法：</p>
<ul>
<li>每次随机一个位置，把这个位置取反，判断大小并更新答案。</li>
</ul>
<details class="note">
<summary>代码</summary>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">C++</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span>
<span class="normal"><a href="#__codelineno-1-16">16</a></span>
<span class="normal"><a href="#__codelineno-1-17">17</a></span>
<span class="normal"><a href="#__codelineno-1-18">18</a></span>
<span class="normal"><a href="#__codelineno-1-19">19</a></span>
<span class="normal"><a href="#__codelineno-1-20">20</a></span>
<span class="normal"><a href="#__codelineno-1-21">21</a></span>
<span class="normal"><a href="#__codelineno-1-22">22</a></span>
<span class="normal"><a href="#__codelineno-1-23">23</a></span>
<span class="normal"><a href="#__codelineno-1-24">24</a></span>
<span class="normal"><a href="#__codelineno-1-25">25</a></span>
<span class="normal"><a href="#__codelineno-1-26">26</a></span>
<span class="normal"><a href="#__codelineno-1-27">27</a></span>
<span class="normal"><a href="#__codelineno-1-28">28</a></span>
<span class="normal"><a href="#__codelineno-1-29">29</a></span>
<span class="normal"><a href="#__codelineno-1-30">30</a></span>
<span class="normal"><a href="#__codelineno-1-31">31</a></span>
<span class="normal"><a href="#__codelineno-1-32">32</a></span>
<span class="normal"><a href="#__codelineno-1-33">33</a></span>
<span class="normal"><a href="#__codelineno-1-34">34</a></span>
<span class="normal"><a href="#__codelineno-1-35">35</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;algorithm&gt;</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cstdlib&gt;</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="mi">510</span><span class="p">],</span><span class="w"> </span><span class="n">b</span><span class="p">[</span><span class="mi">510</span><span class="p">],</span><span class="w"> </span><span class="n">c</span><span class="p">[</span><span class="mi">510</span><span class="p">][</span><span class="mi">510</span><span class="p">],</span><span class="w"> </span><span class="n">d</span><span class="p">[</span><span class="mi">510</span><span class="p">];</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="p">[</span><span class="mi">510</span><span class="p">],</span><span class="w"> </span><span class="n">q</span><span class="p">[</span><span class="mi">510</span><span class="p">];</span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="kt">int</span><span class="w"> </span><span class="n">maxans</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="kt">void</span><span class="w"> </span><span class="nf">check</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="w">  </span><span class="n">memset</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="w"> </span><span class="n">d</span><span class="p">);</span>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">nowans</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="n">d</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
<a id="__codelineno-1-17" name="__codelineno-1-17"></a><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="n">nowans</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-1-18" name="__codelineno-1-18"></a><span class="w">  </span><span class="n">maxans</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">maxans</span><span class="p">,</span><span class="w"> </span><span class="n">nowans</span><span class="p">);</span>
<a id="__codelineno-1-19" name="__codelineno-1-19"></a><span class="p">}</span>
<a id="__codelineno-1-20" name="__codelineno-1-20"></a>
<a id="__codelineno-1-21" name="__codelineno-1-21"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-22" name="__codelineno-1-22"></a><span class="w">  </span><span class="n">srand</span><span class="p">(</span><span class="mi">19260817</span><span class="p">);</span>
<a id="__codelineno-1-23" name="__codelineno-1-23"></a><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<a id="__codelineno-1-24" name="__codelineno-1-24"></a><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-1-25" name="__codelineno-1-25"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
<a id="__codelineno-1-26" name="__codelineno-1-26"></a><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-1-27" name="__codelineno-1-27"></a><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-1-28" name="__codelineno-1-28"></a><span class="w">  </span><span class="n">check</span><span class="p">();</span>
<a id="__codelineno-1-29" name="__codelineno-1-29"></a><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span><span class="w"> </span><span class="n">T</span><span class="p">;</span><span class="w"> </span><span class="n">T</span><span class="o">--</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-30" name="__codelineno-1-30"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">tmp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand</span><span class="p">()</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-1-31" name="__codelineno-1-31"></a><span class="w">    </span><span class="n">a</span><span class="p">[</span><span class="n">tmp</span><span class="p">]</span><span class="w"> </span><span class="o">^=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-1-32" name="__codelineno-1-32"></a><span class="w">    </span><span class="n">check</span><span class="p">();</span>
<a id="__codelineno-1-33" name="__codelineno-1-33"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-1-34" name="__codelineno-1-34"></a><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">maxans</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sc">&#39;\n&#39;</span><span class="p">;</span>
<a id="__codelineno-1-35" name="__codelineno-1-35"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
</details>
<h3 id="_10">例：（*）随机堆<sup id="fnref:ref3"><a class="footnote-ref" href="#fn:ref3">3</a></sup><a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p>可并堆最常用的写法应该是左偏树了，通过维护树高让树左偏来保证合并的复杂度。然而维护树高有点麻烦，我们希望尽量避开。</p>
<p>那么可以考虑使用随机堆，即不按照树高来交换儿子，而是随机交换。</p>
<details class="note" open="open">
<summary>代码</summary>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">C++</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span>
<span class="normal"><a href="#__codelineno-2-11">11</a></span>
<span class="normal"><a href="#__codelineno-2-12">12</a></span>
<span class="normal"><a href="#__codelineno-2-13">13</a></span>
<span class="normal"><a href="#__codelineno-2-14">14</a></span>
<span class="normal"><a href="#__codelineno-2-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">child</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">  </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="p">}</span><span class="w"> </span><span class="n">nd</span><span class="p">[</span><span class="mi">100010</span><span class="p">];</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="kt">int</span><span class="w"> </span><span class="n">root</span><span class="p">[</span><span class="mi">100010</span><span class="p">];</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="kt">int</span><span class="w"> </span><span class="nf">merge</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">u</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">u</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">v</span><span class="p">))</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">v</span><span class="p">;</span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nd</span><span class="p">[</span><span class="n">u</span><span class="p">].</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">nd</span><span class="p">[</span><span class="n">v</span><span class="p">].</span><span class="n">val</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">v</span><span class="p">;</span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="w">  </span><span class="n">nd</span><span class="p">[</span><span class="n">p</span><span class="p">].</span><span class="n">child</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">merge</span><span class="p">(</span><span class="n">nd</span><span class="p">[</span><span class="n">p</span><span class="p">].</span><span class="n">child</span><span class="p">[</span><span class="n">x</span><span class="p">],</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">p</span><span class="p">);</span>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">p</span><span class="p">;</span>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a><span class="p">}</span>
<a id="__codelineno-2-14" name="__codelineno-2-14"></a>
<a id="__codelineno-2-15" name="__codelineno-2-15"></a><span class="kt">void</span><span class="w"> </span><span class="nf">pop</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="o">&amp;</span><span class="n">now</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">merge</span><span class="p">(</span><span class="n">nd</span><span class="p">[</span><span class="n">now</span><span class="p">].</span><span class="n">child</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="n">nd</span><span class="p">[</span><span class="n">now</span><span class="p">].</span><span class="n">child</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span><span class="w"> </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
</details>
<p>随机堆对堆的形态没有任何硬性或软性的要求，合并操作的期望复杂度对任何两个堆（作为 <code>merge</code> 函数的参数）都成立。下证。</p>
<details class="note" open="open">
<summary>期望复杂度的证明</summary>
<p>将证，对于任意的堆 <span class="arithmatex">\(A\)</span>，从根节点开始每次随机选左或者右走下去（直到无路可走），路径长度（即路径上的结点数）的期望值 <span class="arithmatex">\(h(A)\leq\log_2 (|A|+1)\)</span>。</p>
<ul>
<li>注意到在前述过程中合并堆 <span class="arithmatex">\(A,B\)</span> 的期望复杂度是 <span class="arithmatex">\(O\big(h(A)+h(B)\big)\)</span> 的，所以上述结论可以保证随机堆的期望复杂度。</li>
</ul>
<p>证明采用数学归纳。边界情况是 <span class="arithmatex">\(A\)</span> 为空图，此时显然。下设 <span class="arithmatex">\(A\)</span> 非空。</p>
<p>假设 <span class="arithmatex">\(A\)</span> 的两个子树分别为 <span class="arithmatex">\(L,R\)</span>，则：</p>
<div class="arithmatex">\[
\begin{align} h(A)
&amp;=1+\frac{h(L)+h(R)}2
\\&amp;\leq1+\frac{\log_2(|L|+1)+\log_2(|R|+1)}2
\\&amp;=\log_2{2\sqrt{(|L|+1)(|R|+1)}}
\\&amp;\leq\log_2{\frac{2\big((|L|+1)+(|R|+1)\big)}2}
\\&amp;=\log_2{(|A|+1)} \end{align}
\]</div>
<p>证毕。</p>
</details>
<h2 id="_11">与随机性有关的证明技巧<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h2>
<p>以下列举几个比较有用的技巧。</p>
<p>自然，这寥寥几项不可能就是全部；如果你了解某种没有列出的技巧，那么欢迎补充。</p>
<h3 id="_12">概率上界的分析<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p>详见 <a href="../../math/probability/concentration-inequality/">概率不等式</a> 页面。</p>
<p>除了上述页面中提到的各种不等式外，推导过程中还经常会用到以下结论：</p>
<p><strong>自然常数的使用</strong>：<span class="arithmatex">\(\Big(1-\dfrac{1}{n}\Big)^n\leq \dfrac{1}{\mathrm{e}},\forall n\geq1\)</span></p>
<ul>
<li>左式关于 <span class="arithmatex">\(n\geq 1\)</span> 单调递增且在 <span class="arithmatex">\(+\infty\)</span> 处的极限是 <span class="arithmatex">\(\dfrac{1}{\mathrm{e}}\)</span>，因此有这个结论。</li>
<li>这告诉我们，如果 <span class="arithmatex">\(n\)</span> 个互相独立的事件，每个的发生概率为 <span class="arithmatex">\(1-\dfrac 1n\)</span>，则它们全部发生的概率至多为 <span class="arithmatex">\(\dfrac{1}{\mathrm{e}}\)</span>。</li>
</ul>
<h3 id="_13">「耦合」思想<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<p>「耦合」思想常用于同时处理超过一个有随机性的对象，或者同时处理随机的对象和确定性的对象。</p>
<h4 id="_14">引子：随机图的连通性<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h4>
<details class="note" open="open">
<summary>问题</summary>
<p>对于 <span class="arithmatex">\(n \in \mathbf{N}^*; p,q\in [0,1]\)</span> 且 <span class="arithmatex">\(q\leq p\)</span>，求证：随机图 <span class="arithmatex">\(G_1(n,p)\)</span> 的连通分量个数的期望值不超过随机图 <span class="arithmatex">\(G_2(n,q)\)</span> 的连通分量个数的期望值。这里 <span class="arithmatex">\(G(n,\alpha)\)</span> 表示一张 <span class="arithmatex">\(n\)</span> 个结点的简单无向图 <span class="arithmatex">\(G\)</span>，其中 <span class="arithmatex">\(\dfrac {n(n-1)}2\)</span> 条可能的边中的每一条都有 <span class="arithmatex">\(\alpha\)</span> 的概率出现，且这些概率互相独立。</p>
</details>
<p>这个结论看起来再自然不过，但严格证明却并不那么容易。</p>
<details class="note" open="open">
<summary>证明思路</summary>
<p>我们假想这两张图分别使用了一个 01 随机数生成器来获知每条边存在与否，其中 <span class="arithmatex">\(G_1\)</span> 的生成器 <span class="arithmatex">\(T_1\)</span> 每次以 <span class="arithmatex">\(p\)</span> 的概率输出 1，<span class="arithmatex">\(G_2\)</span> 的生成器 <span class="arithmatex">\(T_2\)</span> 每次以 <span class="arithmatex">\(q\)</span> 的概率输出 1。这样，要构造一张图，就只需把对应的生成器运行 <span class="arithmatex">\(\dfrac {n(n-1)}2\)</span> 遍即可。</p>
<p>现在我们把两个生成器合二为一。考虑随机数生成器 <span class="arithmatex">\(T\)</span>，每次以 <span class="arithmatex">\(q\)</span> 的概率输出 0，以 <span class="arithmatex">\(p-q\)</span> 的概率输出 1，以 <span class="arithmatex">\(1-p\)</span> 的概率输出 2。如果我们将这个 <span class="arithmatex">\(T\)</span> 运行 <span class="arithmatex">\(\dfrac {n(n-1)}2\)</span> 遍，就能同时构造出 <span class="arithmatex">\(G_1\)</span> 和 <span class="arithmatex">\(G_2\)</span>。具体地说，如果输出是 0，则认为 <span class="arithmatex">\(G_1\)</span> 和 <span class="arithmatex">\(G_2\)</span> 中都没有当前考虑的边；如果输出是 1，则认为只有 <span class="arithmatex">\(G_1\)</span> 中有当前考虑的边；如果输出是 2，则认为 <span class="arithmatex">\(G_1\)</span> 和 <span class="arithmatex">\(G_2\)</span> 中都有当前考虑的边。</p>
<p>容易验证，这样生成的 <span class="arithmatex">\(G_1\)</span> 和 <span class="arithmatex">\(G_2\)</span> 符合其定义，而且在每个实例中，<span class="arithmatex">\(G_2\)</span> 的边集都是 <span class="arithmatex">\(G_1\)</span> 边集的子集。因此在每个实例中，<span class="arithmatex">\(G_2\)</span> 的连通分量个数都不小于 <span class="arithmatex">\(G_1\)</span> 的连通分量个数；那么期望值自然也满足同样的大小关系。</p>
</details>
<p>这一段证明中用到的思想被称为「耦合」，可以从字面意思来理解这种思想。本例中它体现为把两个本来独立的随机过程合二为一。</p>
<h4 id="nerc-2019-problem-g-game-relics">应用：<a href="https://codeforces.com/contest/1267/problem/G">NERC 2019 Problem G: Game Relics</a><a class="headerlink" href="#nerc-2019-problem-g-game-relics" title="Permanent link">&para;</a></h4>
<details class="note" open="open">
<summary>简要题意</summary>
<p>有若干个物品，每个物品有一个价格 <span class="arithmatex">\(c_i\)</span>。你想要获得所有物品，为此你可以任意地进行两种操作：</p>
<ol>
<li>选择一个未拥有的物品 <span class="arithmatex">\(i\)</span>，花 <span class="arithmatex">\(c_i\)</span> 块钱买下来。</li>
<li>花 <span class="arithmatex">\(x\)</span> 块钱从所有物品（包括已经拥有的）中等概率随机抽取一个。如果尚未拥有该物品，则直接获得它；否则一无所获，但是会返还 <span class="arithmatex">\(\dfrac x2\)</span> 块钱。<span class="arithmatex">\(x\)</span> 为输入的常数。</li>
</ol>
<p>问最优策略下的期望花费。</p>
</details>
<p>观察：如果选择抽物品，就一定会一直抽直到获得新物品为止。</p>
<ul>
<li>理由：如果抽一次没有获得新物品，则新的局面和抽物品之前的局面一模一样，所以如果旧局面的最优行动是「抽一发」，则新局面的最优行动一定也是「再抽一发」。</li>
</ul>
<p>我们可以计算出 <span class="arithmatex">\(f_k\)</span> 表示：如果当前已经拥有 <span class="arithmatex">\(k\)</span> 个不同物品，则期望要花多少钱才能抽到新物品。根据刚才的观察，我们可以直接把 <span class="arithmatex">\(f_k\)</span> 当作一个固定的代价，即转化为「每次花 <span class="arithmatex">\(f_k\)</span> 块钱随机获得一个新物品」。</p>
<details class="note" open="open">
<summary>期望代价的计算</summary>
<p>显然 <span class="arithmatex">\(f_k=\dfrac x2 \cdot (R-1)+x\)</span>，其中 <span class="arithmatex">\(R\)</span> 表示要得到新物品期望的抽取次数。</p>
<p>引理：如果一枚硬币有 <span class="arithmatex">\(p\)</span> 的概率掷出正面，则首次掷出正面所需的期望次数为 <span class="arithmatex">\(\dfrac 1p\)</span>。</p>
<ul>
<li>感性理解：<span class="arithmatex">\(\dfrac 1p \cdot p = 1\)</span>，所以扔这么多次期望得到 1 次正面，看起来就比较对。</li>
<li>这种感性理解可以通过 <a href="https://en.wikipedia.org/wiki/Law_of_large_numbers">大数定律</a> 严谨化，即考虑 <span class="arithmatex">\(n\to \infty\)</span> 次「不断抛硬币直到得到正面」的实验。推导细节略。</li>
<li>另一种可行的证法是，直接把期望的定义带进去暴算。推导细节略。</li>
</ul>
<p>显然抽一次得到新物品的概率是 <span class="arithmatex">\(\dfrac {n-k}n\)</span>，那么 <span class="arithmatex">\(R=\dfrac n{n-k}\)</span>。</p>
</details>
<p>结论：最优策略一定是先抽若干次，再买掉所有没抽到的物品。</p>
<p>这个结论符合直觉，因为 <span class="arithmatex">\(f_k\)</span> 是关于 <span class="arithmatex">\(k\)</span> 递增的，早抽似乎确实比晚抽看起来好一点。</p>
<details class="note" open="open">
<summary>证明</summary>
<p>先考虑证明一个特殊情况。将证：</p>
<ul>
<li>随机过程 <span class="arithmatex">\(A\)</span>：先买物品 <span class="arithmatex">\(x\)</span>，然后不断抽直到得到所有物品</li>
<li>……一定不优于……</li>
<li>随机过程 <span class="arithmatex">\(B\)</span>：不断抽直到得到 <span class="arithmatex">\(x\)</span> 以外的所有物品，然后如果还没有 <span class="arithmatex">\(x\)</span> 则买下来</li>
</ul>
<p>考虑让随机过程 <span class="arithmatex">\(A\)</span> 和随机过程 <span class="arithmatex">\(B\)</span> 使用同一个随机数生成器。即，<span class="arithmatex">\(A\)</span> 的第一次抽取和 <span class="arithmatex">\(B\)</span> 的第一次抽取会抽到同一个元素，第二次、第三次……也是一样。</p>
<p>显然，此时 <span class="arithmatex">\(A\)</span> 和 <span class="arithmatex">\(B\)</span> 抽取的次数必定相等。对于一个被 <span class="arithmatex">\(A\)</span> 抽到的物品 <span class="arithmatex">\(y\neq x\)</span>，观察到：</p>
<ul>
<li><span class="arithmatex">\(A\)</span> 中抽到 <span class="arithmatex">\(y\)</span> 时已经持有的物品数，一定大于等于 <span class="arithmatex">\(B\)</span> 中抽到 <span class="arithmatex">\(y\)</span> 时已经持有的物品数。</li>
</ul>
<p>因此 <span class="arithmatex">\(B\)</span> 的单次抽取代价不高于 <span class="arithmatex">\(A\)</span> 的单次抽取代价，进而抽取的总代价也不高于 <span class="arithmatex">\(A\)</span>。</p>
<p>显然 <span class="arithmatex">\(B\)</span> 的购买代价同样不高于 <span class="arithmatex">\(A\)</span>。综上，<span class="arithmatex">\(B\)</span> 一定不劣于 <span class="arithmatex">\(A\)</span>。</p>
<p>然后可以通过数学归纳把这一结论推广到一般情况。具体地说，每次我们找到当前策略中的最后一次购买，然后根据上述结论，把这一次购买移到最后一定不劣。细节略。</p>
</details>
<p>基于这个结论，我们再次等价地转化问题：把「选一个物品并支付对应价格购买」的操作，改成「随机选一个未拥有的物品并支付对应价格购买」。等价性的理由是，既然购买只是用来扫尾的，那选到哪个都无所谓。</p>
<p>现在我们发现，「抽取」和「购买」，实质上已经变成了相同的操作，区别仅在于付出的价格不同。选择购买还是抽取，对于获得物品的顺序毫无影响，而且每种获得物品的顺序都是等可能的。</p>
<p>观察：在某一时刻，我们应当选择买，当且仅当下一次抽取的代价（由已经抽到的物品数确定）大于剩余物品的平均价格（等于的话则任意）。</p>
<ul>
<li>可以证明，随着时间的推移，抽取代价的增速一定不低于剩余物品均价的增速。这说明从抽到买的「临界点」只有一个，进一步验证了先前结论。</li>
</ul>
<p>最后，我们枚举所有可能的局面（即已经拥有的元素集合），算出这种局面出现的概率（已有元素的排列方案数除以总方案数），乘上当前局面最优决策的代价（由拥有元素个数和剩余物品总价确定），再加起来即可。这个过程可以用背包式的 DP 优化，即可通过本题。</p>
<hr />
<p><strong>回顾</strong>：可以看到，耦合的技巧在本题中使用了两次。第一次是在证明过程中，令两个随机过程使用同一个随机源；第二次是把购买转化成随机购买（即引入随机源），从而使得购买和抽取这两种操作实质上「耦合」为同一种操作（即令抽取和购买操作共享一个随机源）。</p>
<h2 id="_15">参考资料<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h2>
<div class="footnote">
<hr />
<ol>
<li id="fn:ref1">
<p><a href="https://discuss.codechef.com/t/panic-editorial/80145">PANIC - Editorial</a>&#160;<a class="footnote-backref" href="#fnref:ref1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:ref2">
<p><a href="https://peehs-moorhsum.blog.uoj.ac/blog/6375">UOJ NOI Round #4 Day2 题解</a>&#160;<a class="footnote-backref" href="#fnref:ref2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:ref3">
<p><a href="https://www.researchgate.net/publication/2801527_Randomized_Meldable_Priority_Queues">Anna Gambin and Adam Malinowski, Randomized Meldable Priority Queues</a>&#160;<a class="footnote-backref" href="#fnref:ref3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
</ol>
</div>
<!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Render date of last update -->


<!-- Render date of creation -->


<!-- ---------------------------------------------------------------------- -->

<!-- Render authors -->


<!-- ---------------------------------------------------------------------- -->

<!-- Render committers from GitHub -->


<!-- Render committers from GitLab -->


<!-- Render committers -->


<!-- ---------------------------------------------------------------------- -->

<!-- Determine date of last update -->

  

  <!-- Determine date of creation -->
  


<!-- Source file information -->

<!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine feedback configuration -->

  


<!-- Determine whether to show feedback -->


<!-- Was this page helpful? -->

  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        此页面有帮助吗？
      </legend>
      <div class="md-feedback__inner">

        <!-- Feedback ratings -->
        <div class="md-feedback__list">
          
            <button
              class="md-feedback__icon md-icon"
              type="submit"
              title="This page was helpful"
              data-md-value="1"
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg>
            </button>
          
            <button
              class="md-feedback__icon md-icon"
              type="submit"
              title="This page could be improved"
              data-md-value="0"
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg>
            </button>
          
        </div>

        <!-- Feedback rating notes (shown after submission) -->
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              

              <!-- Determine title -->
              
                
              

              <!-- Replace {url} and {title} placeholders in note -->
              谢谢你的反馈！
            </div>
          
            <div data-md-value="0" hidden>
              

              <!-- Determine title -->
              
                
              

              <!-- Replace {url} and {title} placeholders in note -->
              Thanks for your feedback! Help us improve this page by using our <a href="https://marketingplatform.google.com/about/analytics/" target="_blank" rel="noopener">feedback form</a>.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>

<!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Comment system -->





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <style>
  .md-footer {
      background-color: #f0f0f0;
  }
</style>


<!-- Footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page -->
  
    
  

  <!-- Further information -->
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; gzh
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
   
      <font color="#B9B9B9">
      <div class="footer-visit-count" style="display: flex; justify-content: center; align-items: center;color: #000;">
        本站访问量：<script async src="//finicounter.eu.org/finicounter.js"></script>
        <span id="finicount_views"></span>    &nbsp;|&nbsp;
        <footer>
          <a href="https://icp.gov.moe/?keyword=20230640" target="_blank">萌ICP备20230640号</a>
        </footer>
      </div>
      </font>

        <style>
          .footer-visit-count {
              height: fit-content;
              min-height: 55px; /* 根据实际情况调整此高度 */
              color: #000;
          }
          </style>
        
          <div class="md-social">
  
    
    
    
    
    <a href="https://cdn.jsdelivr.net/gh/Gongzihang6/Pictures@main/Medias/%E6%88%91%E7%9A%84%E5%BE%AE%E4%BF%A1%E4%BA%8C%E7%BB%B4%E7%A0%81.png" target="_blank" rel="noopener" title="Wechat" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M385.2 167.6c6.4 0 12.6.3 18.8 1.1C387.4 90.3 303.3 32 207.7 32 100.5 32 13 104.8 13 197.4c0 53.4 29.3 97.5 77.9 131.6l-19.3 58.6 68-34.1c24.4 4.8 43.8 9.7 68.2 9.7 6.2 0 12.1-.3 18.3-.8-4-12.9-6.2-26.6-6.2-40.8-.1-84.9 72.9-154 165.3-154m-104.5-52.9c14.5 0 24.2 9.7 24.2 24.4 0 14.5-9.7 24.2-24.2 24.2-14.8 0-29.3-9.7-29.3-24.2.1-14.7 14.6-24.4 29.3-24.4m-136.4 48.6c-14.5 0-29.3-9.7-29.3-24.2 0-14.8 14.8-24.4 29.3-24.4 14.8 0 24.4 9.7 24.4 24.4 0 14.6-9.6 24.2-24.4 24.2M563 319.4c0-77.9-77.9-141.3-165.4-141.3-92.7 0-165.4 63.4-165.4 141.3S305 460.7 397.6 460.7c19.3 0 38.9-5.1 58.6-9.9l53.4 29.3-14.8-48.6C534 402.1 563 363.2 563 319.4m-219.1-24.5c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.8 0 24.4 9.7 24.4 19.3 0 10-9.7 19.6-24.4 19.6m107.1 0c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.5 0 24.4 9.7 24.4 19.3.1 10-9.9 19.6-24.4 19.6"/></svg>
    </a>
  
    
    
    
    
    <a href="https://t.me/gongzihang" target="_blank" rel="noopener" title="telegram" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8m114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.45 10.45 0 0 1 3.53 6.716 43.8 43.8 0 0 1 .417 9.769"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/ZihangGong28792" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/Gongzihang6" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:<zihanggong24@gmail.com>" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 112c-8.8 0-16 7.2-16 16v22.1l172.5 141.6c20.7 17 50.4 17 71.1 0L464 150.1V128c0-8.8-7.2-16-16-16zM48 212.2V384c0 8.8 7.2 16 16 16h384c8.8 0 16-7.2 16-16V212.2L322 328.8c-38.4 31.5-93.7 31.5-132 0zM0 128c0-35.3 28.7-64 64-64h384c35.3 0 64 28.7 64 64v256c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://space.bilibili.com/688234000/lists" target="_blank" rel="noopener" title="space.bilibili.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1-17.2 17-39.1 25.9-65.5 26.7H92.02c-26.45-.8-48.21-9.8-65.28-27.2C9.682 419.4.767 396.5 0 368.2V169.8c.767-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78h29.38L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79 0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1 0 117.9 0q13.2 0 21.9 8.603L213.1 78h88l74.5-69.397C381.7 2.868 389.2 0 398 0q13.2 0 21.9 8.603c5.7 5.737 8.6 12.997 8.6 21.797 0 8.79-2.9 16.06-8.6 21.79L394.6 78h29.3c26.4.77 48 9.75 64.7 26.1m-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5-5.2-6.1-14-9.4-22.7-9.8H96.05c-9.59.4-17.45 3.7-23.58 9.8-6.14 6.1-9.4 13.9-9.78 23.5v194.4c0 9.2 3.26 17 9.78 23.5s14.38 9.8 23.58 9.8H416.4c9.2 0 17-3.3 23.3-9.8s9.7-14.3 10.1-23.5zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.2 6.3-14 9.5-23.6 9.5s-17.5-3.2-23.6-9.5-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2s13.2-9.6 23.3-10c9.2.4 17 3.7 23.3 10m191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2s-14 9.5-23.6 9.5-17.4-3.2-23.6-9.5c-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2s14.1-9.6 23.3-10c9.2.4 17 3.7 23.3 10"/></svg>
    </a>
  
</div>
        
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  


<h4>Cookie consent</h4>
<p>我们也使用cookies来识别您的重复访问和偏好来衡量我们文档的有效性以及用户是否找到他们要找的东西。 如果你同意,你可以帮助我们让我们的网站更好</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="analytics" checked>
      <span class="task-list-indicator"></span>
      Google Analytics
    </label>
  </li>

      
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="github" checked>
      <span class="task-list-indicator"></span>
      GitHub
    </label>
  </li>

      
    
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">同意</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">管理设定</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      <script id="__config" type="application/json">{"base": "../../../../../..", "features": ["announce.dismiss", "navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.top", "navigation.footer", "search.suggest", "search.highlight", "search.share", "navigation.expand", "navigation.indexes", "content.tabs.link", "content.tooltips", "content.code.copy", "content.code.select", "content.code.annotate"], "search": "../../../../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../../../../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="../../../../../../javascripts/extra.js"></script>
      
        <script src="../../../../../../javascripts/config_mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="../../../../../../javascripts/简历.js"></script>
      
    
  </body>
</html>